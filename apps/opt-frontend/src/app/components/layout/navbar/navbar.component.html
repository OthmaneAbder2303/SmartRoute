<div class="navbar fixed top-0 left-0 w-full bg-gray-100 shadow-md px-3 z-30 transition-all duration-300"
     [ngClass]="{ 'h-[100px] py-4': !isScrolled, 'h-[70px] py-2': isScrolled }">


<!-- Start: Logo -->
  <div class="navbar-start">
    <a href="/apps/opt-frontend/public" class="block">
      <img ngSrc="/assets/logo_zoomed.png" alt="SmartRoute Logo" class="w-20 h-20 object-contain" height="500"
           width="500" />
    </a>
  </div>

  <!-- Center: Navigation Menu -->
  <div class="navbar-center">
    <ul class="menu menu-horizontal px-1 space-x-4">

      <!-- Accueil -->
      <li>
        <a href="/apps/opt-frontend/public" class="text-textBlack hover:text-primary font-semibold">Accueil</a>
      </li>

      <!-- Services -->
      <li class="relative">
        <details class="group">
          <summary class="text-textBlack hover:text-primary font-semibold cursor-pointer">
            Services
          </summary>
          <ul class="z-30 bg-white shadow-lg rounded-md p-2 mt-2 group-open:block hidden absolute top-full left-0 w-full">
            <li><a href="/services" class="block text-gray-700 hover:bg-orange-200 px-4 py-2 rounded-md">Tous</a></li>
            <li><a href="/service1" class="block text-gray-700 hover:bg-orange-200 px-4 py-2 rounded-md">Service 1</a></li>
          </ul>
        </details>
      </li>


      <!-- Tarifs -->
      <li>
        <a href="/tarifs" class="text-textBlack hover:text-primary font-semibold">Tarifs</a>
      </li>

      <!-- Ressources -->
      <li class="relative">
        <details class="group">
          <summary class="text-textBlack hover:text-primary font-semibold cursor-pointer">
            Ressources
          </summary>
          <ul class="z-30 bg-white shadow-lg rounded-md p-2 mt-2 group-open:block hidden absolute top-full left-0 w-full">
            <li><a href="/docs" class="block text-gray-700 hover:bg-orange-200 px-4 py-2 rounded-md">Docs</a></li>
            <li><a href="/api" class="block text-gray-700 hover:bg-orange-200 px-4 py-2 rounded-md">API</a></li>
            <!-- encore encooore -->
          </ul>
        </details>
      </li>
    </ul>
  </div>




  <!-- End: login & sign-in Icons -->
  <div class="navbar-end flex items-center space-x-4">

    <!-- dark mode -->
    <button (click)="toggleTheme()" class="p-2 rounded-md bg-gray-100 dark:bg-gray-100">
      <fa-icon *ngIf="isDarkMode" [icon]="['fas', 'sun']" size="lg" class="text-yellow-400"></fa-icon>
      <fa-icon *ngIf="!isDarkMode" [icon]="['fas', 'moon']" size="lg" class="text-blue-400"></fa-icon>
    </button>


    <div *ngIf="auth.isAuthenticated; else loggedOut">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-textBlack">Bienvenue,</p>
          <p class="text-textBlack font-semibold">{{ auth.user?.name }}</p>
        </div>
        <a (click)="auth.logout()" class="cursor-pointer ml-4" role="button" tabindex="0" (keydown.enter)="auth.logout()" aria-label="Logout" title="DÃ©connexion">
          <fa-icon [icon]="['fas', 'sign-out-alt']" class="text-textBlack hover:text-primary text-lg"></fa-icon>
        </a>
      </div>
    </div>


    <ng-template #loggedOut>
      <a (click)="auth.login()" class="cursor-pointer" role="button" tabindex="0" (keydown.enter)="auth.login()" aria-label="Login" title="Se connecter">
        <fa-icon [icon]="['fas', 'user-plus']" class="text-textBlack hover:text-primary"></fa-icon>
      </a>
      <a routerLink="/sign_in" class="cursor-pointer" role="button" tabindex="0" aria-label="Sign In" title="S'enregistrer">
        <fa-icon [icon]="['fas', 'sign-in-alt']" class="text-textBlack hover:text-primary"></fa-icon>
      </a>
    </ng-template>
  </div>




</div>
